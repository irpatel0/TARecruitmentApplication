{% extends "base.html" %}
{% import 'bootstrap_wtf.html' as wtf %}


{% block content %}

   <!-- Display everything in courses -->
    <div style="min-height: 80vh;">
        <div class="indexHeader">
       <h4 style="text-align: center;">Course Sections</h4>
       <a href="{{url_for('instructor.create_course')}}" class="button">Create Course</a>
   </div>

   <ul class = "courseSections">
       {% for course in coursesections %}
           <li>
               {{course}}
               <div>
                   <a class = "button"  id = "button-{{course.id}}" onclick="showInfo({{course.id}})">View Details</a>
                   {%if course.hasPosition()%}
                       {%if course.position.available%}
                           <a href="#" class = "button view">View Applicants</a>
                       {%else%}
                           <a href="#" class = "button filled">Filled</a>
                       {%endif%}
                   {%else%}
                       <a href="{{url_for('instructor.create_position', course_id = course.id)}}" class = "button create">Create Position</a>
                   {%endif%}
               </div>
           </li>
           <div id = "{{course.id}}" style="display: none;">
               <hr>
               {%if course.hasPosition()%}
                   <h5>Position Details</h5>
                   <p>Position: {{course.position}}</p>
                   <p>Available: {{course.position.available}}</p>
                   <p>Number of SAs: {{course.position.num_SAs}}</p>
                   <p>Minimum GPA: {{course.position.min_GPA}}</p>
                   <p>Minimum Grade: {{course.position.min_grade}}</p>
               {%else%}
                   <p>No Position Created</p>
               {%endif%}




           </div>
           <hr>


       {% endfor %}
   </ul>
    </div>



   <script>
       function showInfo(id){
           var x = document.getElementById(id);
           if(x.style.display === "none"){
               x.style.display = "block";
               document.getElementById('button-' + id).textContent = "Hide Details";
           }
           else{
               x.style.display = "none";
               document.getElementById('button-' + id).textContent = "View Details";
           }
       }
   </script>


{% endblock %}
