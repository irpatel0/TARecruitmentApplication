{% extends "base.html" %}
{% import 'bootstrap_wtf.html' as wtf %}

{% block content %}

    <h2 class="text-center mb-4">Hi Student, {{name}}!</h2>
    <h3 class="text-center mb-3">Please continue to fill your other details...</h3>

    <h3 class="form-title">Student Registration</h3>
        <div class="register-form">
            {% if form %}
            <form action = "{{url_for('auth.student_register_sso')}}" method = 'POST'>
                {{ form.hidden_tag()}}


                {{wtf.form_field(form.wpi_id)}}
                {{wtf.form_field(form.phone)}}
                {{wtf.form_field(form.GPA)}}
                {{wtf.form_field(form.graduation_date)}}

                <h4>Courses</h4>
                <div id="courses">
                    {% for subfield in form.courses %}
                    <div class="course-field">
                        {{ wtf.form_field(subfield.course) }}
                        {{ wtf.form_field(subfield.grade) }}
                        {{ wtf.form_field(subfield.sa_experience) }}
                        <button type="button" class="btn btn-danger" onclick="removeCourse(this)">Remove</button>
                    </div>
                    {% endfor %}
                </div>
                <br>
                <button type="button" class="btn btn-primary" onclick="addCourse()">Add Course</button>
                <br>
                <br>

                {{wtf.form_field(form.submit)}}

            </form>
            {% endif %}
        </div>

{% endblock %}
